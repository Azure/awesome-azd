resources:
  repositories:
  - repository: awesome-azd
    type: git
    name: awesome-azd
    ref: $(branch)

pr:
  branches:
    include: [main]

pool:
  vmImage: ubuntu-latest

steps:
- checkout: awesome-azd
  path: ./website

- task: UseNode@1
  inputs:
    version: '20.x'
  displayName: 'Install Node.js'
- task: npmAuthenticate@0
  inputs:
    workingFile: .npmrc

- script: |
    npm install
  displayName: 'npm install'

- script: |
    npm run build
  displayName: 'npm build'
