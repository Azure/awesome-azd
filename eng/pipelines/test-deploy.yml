resources:
  repositories:
  - repository: self
    ref: $(branch)

pr:
  paths:
    include:
      - eng/pipelines/test-deploy.yml

pool:
  vmImage: ubuntu-latest

steps:
- checkout: self
  path: ./website

- task: UseNode@1
  inputs:
    version: '20.x'
  displayName: 'Install Node.js'
- task: npmAuthenticate@0
  inputs:
    workingFile: .npmrc

- script: |
    npm install
  displayName: 'npm install'

- script: |
    npm run build
  displayName: 'npm build'
